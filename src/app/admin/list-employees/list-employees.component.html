<div class="col-lg-12 grid-margin stretch-card">
  <div class="card">
    <div class="card-body">
      <h4 class="card-title">Liste des Employés</h4>
      <input
        class="form-control "
        type="text"
        placeholder="search"
        [(ngModel)]="searchText"
        (input)="filterUsers()"
      /><br>
      <div>
        <a routerLink="/addUser"><button class="btn btn-primary btn-lg text-white mb-0 me-0" type="button" ><i class="mdi mdi-account-plus"></i>Ajouter un utilisateur </button></a>
      </div>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
          <tr>
            <th> User </th>
            <th> Prénom </th>
            <th> Nom </th>
            <th> Age </th>
            <th> Sexe </th>
            <th> Email </th>
            <th> Poste</th>
            <th> Département</th>
            <th> Cin</th>
            <th> Actions</th>
          </tr>
          </thead>
          <tbody>
          <ng-container *ngFor="let user of filteredUsers  | paginate : pagingConfig; let j = index">
            <tr *ngIf="user.prenom !== 'root' && user.nom !== 'root'">
            <td><img src="{{ user.img }} "></td>
            <td>{{ user.nom }}</td>
            <td>{{ user.prenom }}</td>
            <td>{{ user.age }}</td>
            <td>{{ user.sexe }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.poste.libPoste }}</td>
            <td>{{ user.departement.libelle }}</td>
            <td>{{ '*****' + (user.cin ? user.cin.toString().slice(-3) : '') }}</td>
            <td>
              <button (click)="delete(user.idUser)" class="btn btn-danger btn-rounded btn-icon" style="color: white"> <i class="mdi mdi-trash-can-outline menu-icon"></i></button>
            </td>
          </tr>
          </ng-container>
          </tbody>
        </table>

      </div>
    </div>
    <div class="d-flex justify-content-center">
      <pagination-controls
        previousLabel="Précédent"
        nextLabel="Suivant"
        (pageChange)="onTableDataChange($event)">
      </pagination-controls>
    </div>
  </div>

</div>

